<!-- extend base layout -->
{% extends "base.html" %}

{% block content %}
    {% if is_current %}
        <div class="in-call">
            <form class="in-call form-inline" action="/repeat">
                <input type="hidden" name="call_sid" value={{call_sid}}>
                <input type="hidden" name="question_id" value={{question_id}}>
                <input type="hidden" name="voted" value={{voted}}>
                <input class="form-control" type="submit" value="Repeat">
            </form>
        </div>
        <div class="in-call">
            <form class="in-call form-inline" action="/hint">
                <input type="hidden" name="call_sid" value={{call_sid}}>
                <input type="hidden" name="question_id" value={{question_id}}>
                <input type="hidden" name="voted" value={{voted}}>
                <input class="form-control" type="submit" value="Hint">
            </form>
        </div>
        <div class="in-call">
            <form class="in-call form-inline" action="/answer">
                <input type="hidden" name="call_sid" value={{call_sid}}>
                <input type="hidden" name="question_id" value={{question_id}}>
                <input type="hidden" name="voted" value={{voted}}>
                <input class="form-control" type="submit" value="Answer">
            </form>
        </div>
        <div class="in-call">
            <form class="in-call form-inline" action="/hangup">
                <input type="hidden" name="call_sid" value={{call_sid}}>
                <input type="hidden" name="question_id" value={{question_id}}>
                <input class="form-control" type="submit" value="Hangup">
            </form>
        </div>
        {% if not voted %}
        <div class="in-call">
            <form class="in-call form-inline" action="/upvote">
                <input type="hidden" name="call_sid" value={{call_sid}}>
                <input type="hidden" name="question_id" value={{question_id}}>
                <input class="form-control" type="submit" value="Upvote">
            </form>
        </div>
        {% endif %}
        <div class="in-call">
            <form class="in-call form-inline" action="/next-question">
                <input type="hidden" name="call_sid" value={{call_sid}}>
                <select name="topic_id" class="form-control">
                    <option value=0>Any</option>
                    {% for topic in topics %}
                        <option value={{topic.id}}>{{ topic.name }}</option>
                    {% endfor %}
                </select>
                <input class="form-control" type="submit" value="Next Question">
            </form>
        </div>

    {% else %}
    <div class="jumbotron">
        <h1 class="text-center">Get a Phone Interview</h1>
    </div>
    {% if recording %}
        {{recording}}
    {% endif %}
    <form class="main-form form-inline text-center" action="/choose_question">
        <select name="topic_id" id="select-topic" class="form-control phone-input">
                <option value="" disabled selected>Select a topic</option>
                <option value=0>Any</option>
                {% for topic in topics %}
                    <option value={{topic.id}}>{{ topic.name }}</option>
                {% endfor %}
            </select>
        <div class="form-group call-form">
            <div class="input-group">
                <div class="input-group-addon">
                    <span class="glyphicon glyphicon-earphone"></span>
                </div>
                <input class="phone-input form-control" size="35" type="tel" name="number" placeholder="Phone Number..." onfocus="this.placeholder = ''">
            </div>
        </div>
        <button type="submit" class="call-button btn btn-primary" value="Call">Call</button>
    </form>
    {% endif %}

{% endblock %}
